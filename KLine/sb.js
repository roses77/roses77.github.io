"use strict";!function(){if(!window.SOSOBTC||!window.SOSOBTC.widget){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"},t=e.toString,n=e.hasOwnProperty,o={};o.isFunction=function(e){return"function"===o.type(e)},o.isArray=Array.isArray,o.isWindow=function(e){return null!=e&&e===e.window},o.type=function(n){return null==n?String(n):"object"==typeof n||"function"==typeof n?e[t.call(n)]||"object":typeof n},o.isPlainObject=function(e){if("object"!==o.type(e)||e.nodeType||o.isWindow(e))return!1;try{if(e.constructor&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},o.extend=function(){var e,t,n,r,i,a,c=arguments[0]||{},u=1,d=arguments.length,s=!1;for("boolean"==typeof c&&(s=c,c=arguments[1]||{},u=2),"object"==typeof c||o.isFunction(c)||(c={}),d===u&&(c=this,--u);u<d;u++)if(null!=(e=arguments[u]))for(t in e)n=c[t],r=e[t],c!==r&&(s&&r&&(o.isPlainObject(r)||(i=o.isArray(r)))?(i?(i=!1,a=n&&o.isArray(n)?n:[]):a=n&&o.isPlainObject(n)?n:{},c[t]=o.extend(s,a,r)):void 0!==r&&(c[t]=r));return c};var r={host:"https://plugin.sosobtc.com",$:function(e){return document.getElementById(e)},uid:function(){return"sosobtc_"+(1048576*(1+Math.random())|0).toString(16).substring(1)},onready:function(e){window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):window.attachEvent("onload",e)},bindEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},clone:function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},urlBuilderFunction:function(e){for(var t="",n="",o="",r="",i="",a="",c="",u=0;u<e.length;u++)if(e[u])switch(e[u].name){case"website":t=e[u].value;break;case"utm_source":n=encodeURIComponent(e[u].value);break;case"utm_medium":o=encodeURIComponent(e[u].value);break;case"utm_term":r=encodeURIComponent(e[u].value);break;case"utm_content":i=encodeURIComponent(e[u].value);break;case"utm_campaign":a=encodeURIComponent(e[u].value)}return t.indexOf("#")!==-1&&(c=t.substring(t.indexOf("#")),t=t.substring(0,t.indexOf("#"))),t.indexOf("/",9)===-1&&t.indexOf("?")===-1&&(t+="/"),t+=t.indexOf("?")===-1?"?":"&",t+="utm_source="+n+"&utm_medium="+o,""!=r&&(t+="&utm_term="+r),""!=i&&(t+="&utm_content="+i),t+="&utm_campaign="+a,c&&(t+=c),t},widget:function(e){this.id=r.uid();var t=e.symbol||"BTC:OKCOIN";this.options={symbol:t,container:e.container,default_step:e.default_step,default_theme:e.default_theme,disable_theme_change:e.disable_theme_change,default_open_tools:e.default_open_tools,hide_logo:e.hide_logo,hide_market_name:e.hide_market_name,dex:e.dex},this._ready_handlers=[],this.create()}};r.widget.prototype={create:function(){var e,t=this.render(),n=this;i(t,this.options.container),e=r.$(this.id),r.bindEvent(e,"load",function(){n._ready=!0})},ready:function(e){this._ready?e.call(this):this._ready_handlers.push(e)},render:function(){var e=this.generateUrl();return'<iframe id="'+this.id+'" src="'+e+'" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="width: 100%; height: 100%;"></iframe>'},generateUrl:function(e){function t(t,n,o){return o=o||t,e[t]?"&"+o+"="+n:""}e=e||this.options;var n="/widget/",o=r.host,i=r.urlBuilderFunction([{name:"website",value:o+n+"?symbol="+encodeURIComponent(e.symbol)+t("default_step",e.default_step)+t("default_theme",e.default_theme)+t("disable_theme_change",e.disable_theme_change)+t("default_open_tools",e.default_open_tools)+t("hide_logo",e.hide_logo)+t("hide_market_name",e.hide_market_name)+t("dex",e.dex)},{name:"utm_source",value:window.location.hostname},{name:"utm_medium",value:window.location.host+window.location.pathname},{name:"utm_campaign",value:"widget"}]);return i},remove:function(){var e=r.$(this.id);e.parentNode.removeChild(e)},reload:function(){var e=r.$(this.id),t=e.parentNode;t.removeChild(e),t.innerHTML=this.render()}},r.getUrlParams=function(){for(var e=/\+/g,t=/([^&=]+)=?([^&]*)/g,n=window.location.search.substring(1),o=t.exec(n),r=function(t){return decodeURIComponent(t.replace(e," "))},i={};o;)i[r(o[1])]=r(o[2]),o=t.exec(n);return i},r.createUrlParams=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};var i=function(e,t){var n=r.$(t);n?n.innerHTML=e:document.write(e)};window.SOSOBTC?o.extend(window.SOSOBTC,r):window.SOSOBTC=r}}();