function logError(a){alert(a)}function Timer(a){return this instanceof Timer?(Timer.initialized||(Timer.prototype.start=function(){this.active=!1,this.initialized||(this.dom=$("#"+this.opt.id),this.initTime=this.opt.time||this.dom.attr("time")||new Date,this.date=this.initTime instanceof Date?this.initTime:new Date(parseInt(this.initTime,10)),this.initialized=!0),this.dom&&this.dom.length&&this.date&&(this.timerID=setInterval(this.handler,this.interval,this))},Timer.prototype.handler=function(a){var b,c,d,e;if(a.date.setTime(a.date.getTime()+a.step),a.date.getTime()<0&&a.stop(),!a.pattern){b={yyyy:"FullYear",MM:"Month",dd:"Date",HH:"Hours",mm:"Minutes",ss:"Seconds",SSS:"Milliseconds"},c=a.opt.render||b,a.pattern={};for(d in c)b[d]&&(a.pattern[d]=(a.step>0?"get":"getUTC")+b[d])}e={};for(d in a.pattern)e[d]=a.date[a.pattern[d]](),"MM"==d&&e[d]++,a.zeroFill&&e[d]<10&&(e[d]="0"+e[d]);if(a.renderCallback)a.renderCallback.call(a,e);else if(a.opt.render){a.doms||(a.doms={});for(d in a.opt.render)null!=e[d]&&(a.doms[d]=a.doms[d]||$("#"+a.opt.render[d]),a.doms[d].html(e[d]))}else a.dom.html(e.yyyy+"-"+e.MM+"-"+e.dd+" "+e.HH+":"+e.mm+":"+e.ss)},Timer.prototype.stop=function(){clearInterval(this.timerID)},Timer.initialized=!0),this.opt="object"==typeof a?a:{id:a},this.interval=this.opt.interval||1e3,this.step=this.opt.step||1e3,this.zeroFill=this.opt.zeroFill!==!1,this.opt.renderCallback&&$.isFunction(this.opt.renderCallback)&&(this.renderCallback=this.opt.renderCallback),void 0):new Timer(a)}function getTipsImg(a){var c,b=a.dom.prop("type");return"file"==b||"radio"==b||"checkbox"==b?(c=a.dom.next("img"),c&&0==c.length&&(c=a.dom.parent().nextAll("img")[0]),$(c)):(c=a.dom.next("img"),c&&0==c.length&&(c=a.dom.parent().nextAll("img")[0]),c)}function removeError(a){var b=$(a);b&&(b.css("visibility","hidden"),b.next("label").remove())}function checkfile(a,b){var g,h,i,e={},f=window.navigator.userAgent;f.indexOf("MSIE")>=1?e.ie=!0:f.indexOf("Firefox")>=1?e.firefox=!0:f.indexOf("Chrome")>=1&&(e.chrome=!0);try{if(g=a[0],""==g.value)return!1;if(h=0,e.firefox||e.chrome)h=g.files[0].size;else{if(!e.ie)return!1;i=document.getElementById("tempimg"),i.dynsrc=g.value,h=i.fileSize}return-1==h?!1:h>b?!1:!0}catch(j){return console.log(j),!1}}function verifyImageWH(a,b,c){var d=/[1-9][0-9]*/g,e=c.imagewh.match(d);c.message="您上传的图片尺寸不正确，请重新选择!",imgReady(window.URL.createObjectURL(c.dom[0].files[0]),function(){var h,i,j,k,l,d=this.width,f=this.height,g=!1;for(h=0;h<e.length;h++)i=e[h],h++,j=e[h],d==i&&f==j&&(g=!0,a.sendSuccess("imagewh","imagewh",b,c.imagewh,c));g||(a.sendError("imagewh","imagewh",b,c.imagewh,c),k=c.dom,l='上传<input type="file" class="'+k.attr("class")+'" id="'+k.attr("id")+'" accept="'+k.attr("accept")+'" name="'+k.attr("name")+'" >',k.parent().html(l))})}function limitOnlyNumeric(a){function m(){return g&&"-"==h[0]&&(e+=1),-1==i&&h.length<e||k&&h.substring(0,i).length<e||l&&h.substring(i+1).length<f?!0:!1}var d,e,f,g,h,i,j,k,l,b=a||window.event,c=b.keyCode||b.which;if(!(8==c||9==c||13==c||27==c||46==c||65==c&&event.ctrlKey===!0||c>=35&&40>=c||86==c&&event.ctrlKey===!0)){if(b.shiftKey||b.altKey||b.ctrlKey||c>=112)return!0;if(d=b.target||b.srcElement,e=parseInt(d.getAttribute("number-length")),f=parseInt(d.getAttribute("number-dec")),g=d.getAttribute("number-sub"),h=d.value,i=h.indexOf("."),j=caret.call(d),k=i>-1&&j.end<=i,l=i>-1&&j.begin>i,isNaN(e)&&(e=15),isNaN(f)&&(f=2),1>e||0>f)throw new Error("parameter is not valid");if(c>=48&&57>=c||c>=96&&105>=c){if(m())return;if(h=h.substring(0,j.begin)+h.substring(j.end),i=h.indexOf("."),m())return}else if((190==c||110==c)&&f>0){if(-1==i&&(j.end==h.length||h.substring(j.end).length<=f)||i>-1&&j.begin<=i&&i<j.end)return}else if(g&&(189==c||109==c)&&0==j.begin&&("-"!=h[0]||j.end>j.begin))return;return!1}}function caret(){var a,b,c;return this.setSelectionRange?(a=this.selectionStart,b=this.selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b}}function valPlaceholderToValue(a,b){a.val(b),a.css("color","#A9A9A9")}function preSerializeFrom(){isSupportPlaceholder||$input_placeholder.each(function(){var a=$(this),b=a.val(),c=a.attr("placeholder");b&&b==c&&a.val("")})}function afterSerializeFrom(){isSupportPlaceholder||$input_placeholder.each(function(){var a=$(this),b=a.val(),c=a.attr("placeholder");b||a.is(":focus")||valPlaceholderToValue(a,c)})}function serializeFrom(a){var c,b=a?$("#"+a):$("#pageForm");return isSupportPlaceholder?b.serialize():(preSerializeFrom(),c=b.serialize(),afterSerializeFrom(),c)}var __nativeST__,__nativeSI__,ss,imgReady,number_target,isSupportPlaceholder,$input_placeholder;!function(){navigator.userAgent.indexOf("MSIE 6.")>0&&(location.href=root+"/ie6.jsp")}(),document.all&&!window.setTimeout.isPolyfill&&(__nativeST__=window.setTimeout,window.setTimeout=function(a,b){var c=Array.prototype.slice.call(arguments,2);return __nativeST__(a instanceof Function?function(){a.apply(null,c)}:a,b)},window.setTimeout.isPolyfill=!0),document.all&&!window.setInterval.isPolyfill&&(__nativeSI__=window.setInterval,window.setInterval=function(a,b){var c=Array.prototype.slice.call(arguments,2);return __nativeSI__(a instanceof Function?function(){a.apply(null,c)}:a,b)},window.setInterval.isPolyfill=!0),jQuery.ajaxSetup({error:function(){jQuery.loading(!1)}}),jQuery.extend({postJSON:function(a,b,c){return jQuery.isFunction(b)&&(c=b,b=void 0),jQuery.ajax({url:a,type:"POST",data:b,success:c,dataType:"json"})},POST:function(a,b,c){var d;return jQuery.ajax({url:a,data:b,type:"POST",async:!1,dataType:c,success:function(a){d=a}}),d},alert:function(a,b,c,d){var e;b instanceof Function&&(d=b,b="default"),c instanceof Function&&(d=c,c=1),d instanceof Function&&(e=function(a){layer.close(a),d.call(null,a)}),layer.alert(a,{title:"系统提示",icon:b,closeBtn:c},e)},ajaxMessage:function(a,b,c,d){if(3==arguments.length&&"boolean"==typeof c&&(d=c),arguments.length>1&&arguments.length<4){var e=jQuery.type(b);"boolean"==e?(d=b,b=null):"function"==e&&(c=b,b=null)}"isloading"==b?jQuery.loading(!1):jQuery.loading(),jQuery.ajax({url:a,data:b,type:"POST",dataType:"json",success:function(a){jQuery.loading(!1),d!==!1&&(a.message&&(window.location.pathname.indexOf("/wx/")>-1?$.msg(a.message):alert(a.message)),a.callback&&jQuery.isFunction(window[a.callback])&&window[a.callback].call(a),a.url&&("refresh"==a.url?location.reload():location.href=a.url)),c&&jQuery.isFunction(c)&&c.call(null,a)}})},confirm:function(a,b,c){return layer.confirm(a,b,c)},loading:function(a,b){if(a===!1)jQuery.loading.index&&layer.close(jQuery.loading.index)&&(jQuery.loading.index=null);else{var c=typeof a;"number"==c&&(b=a,a=null),a||(a="正在处理，请稍后..."),jQuery.loading.index=layer.load(2,{shade:[.1,"#fff"]})}},tips:function(a,b,c,d){null==d&&(d=2),null==c&&(c=5e3),layer.tips(a,b,{guide:1,time:c,tips:d})},msg:function(a){layer.msg(a,{time:3e3})},getIcon:function(a){return jQuery.getIcon.icons||(jQuery.getIcon.icons={"default":-1,warn:0,ok:1,forbidden:3,question:4,cry:8,smile:9,weixin:12}),jQuery.getIcon.icons[a in jQuery.getIcon.icons?a:"default"]},close:function(a){layer.close(a||layer.index)}}),jQuery.fn.extend({trim:function(a){var c,b=jQuery.trim(this.val());return a&&this.length>0&&(c=this.length>1?this.first():this,c.val(b)),b},value:function(){var a,b,c,d;return this.length?(a=this.prop("type"),a&&(a=a.toLowerCase(),b="radio"==a,(b||"checkbox"==a)&&(c=this.attr("name")))?(d=jQuery("[name='"+c+"']:checked").map(function(){return this.value}).get(),b?d[0]:d):this.val()):void 0},selectAll:function(a){return"inverse"===a?this.prop("checked",function(a,b){return!b}):this.prop("checked",a!==!1),this},tips:function(a,b){return jQuery.tips(a,this,b),this},msg:function(a){return jQuery.msg(a),this}}),$(function(){window.WdatePicker&&$("body").on("focusin",".date,.datetime",function(){var c,a=$(this),b=a.data("dateCache");null==b&&(b={},c=" "+this.className+" ",-1!=c.indexOf(" datetime ")&&(b.dateFmt="yyyy-MM-dd HH:mm:ss"),-1!=c.indexOf(" min-now ")&&(b.minDate="%y-%M-%d %H:%m:%s"),-1!=c.indexOf(" max-now ")?b.maxDate="%y-%M-%d %H:%m:%s":-1!=c.indexOf(" max-now-1 ")&&(b.maxDate="%y-%M-#{%d-1} %H:%m:%s"),a.data("dateCache",b)),WdatePicker(b)}),refreshImage=function(a){var b=a?$(this):$("img.verify-code"),c=b.data("src");c||(c=b.attr("src"),c+=c.indexOf("?")<0?"?":"&",b.data("src",c)),b.attr("src",c+"preventCache="+(new Date).getTime())},$(document).on("click",".waiting",function(){return $.alert("即将开启，敬请期待！"),!1}).on("click","img.verify-code",refreshImage)}),$(function(){Date.prototype.format=function(a){var c,b={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},window.WdatePicker&&$("body").on("focusin",".date,.datetime",function(){var c,a=$(this),b=a.data("dateCache");null==b&&(b={},c=" "+this.className+" ",-1!=c.indexOf(" datetime ")&&(b.dateFmt="yyyy-MM-dd HH:mm:ss"),-1!=c.indexOf(" min-now ")&&(b.minDate="%y-%M-%d %H:%m:%s"),-1!=c.indexOf(" max-now ")?b.maxDate="%y-%M-%d %H:%m:%s":-1!=c.indexOf(" max-now-1 ")&&(b.maxDate="%y-%M-#{%d-1} %H:%m:%s"),a.data("dateCache",b)),WdatePicker(b)})}),ss={state:0,result:!1},imgReady=function(){var a=[],b=null,c=function(){for(var b=0;b<a.length;b++)a[b].end?a.splice(b--,1):a[b]();!a.length&&d()},d=function(){clearInterval(b),b=null};return function(d,e,f,g){var h,i,j,k,l,m=new Image;return m.src=d,m.complete?(e.call(m),f&&f.call(m),void 0):(i=m.width,j=m.height,m.onerror=function(){g&&g.call(m),h.end=!0,m=m.onload=m.onerror=null},h=function(){k=m.width,l=m.height,(k!==i||l!==j||k*l>1024)&&(e.call(m),h.end=!0)},h(),m.onload=function(){!h.end&&h(),f&&f.call(m),m=m.onload=m.onerror=null},h.end||(a.push(h),null===b&&(b=setInterval(c,40))),void 0)}}(),number_target=$("[number]"),number_target.on("keydown",limitOnlyNumeric),number_target.on("input propertychange",function(){isNaN(this.value)&&(this.value=parseFloat(this.value)||"")}),isSupportPlaceholder="placeholder"in document.createElement("input"),$input_placeholder=$(":input[placeholder]"),$(function(){var a,b;isSupportPlaceholder||($input_placeholder.on("focus",function(){$me=$(this);var a=$me.attr("placeholder");this.value?(this.value==a&&(this.value="",$me.first()),$me.css("color","#000")):valPlaceholderToValue($me,a)}),$input_placeholder.keydown(function(){var a,b;this.value&&(a=$(this),b=a.attr("placeholder"),this.value==b&&(this.value="",a.first(),a.css("color","#000")))}),$input_placeholder.on("focusout",function(){$me=$(this);var a=$me.attr("placeholder");this.value||valPlaceholderToValue($me,a)}),$input_placeholder.each(function(){if($me=$(this),!this.value&&!$me.is(":focus")){var a=$me.attr("placeholder");valPlaceholderToValue($me,a)}})),a=$(":input[password]"),a&&(b=$(":input[password-tips]"),b.on("focus",function(){var a=$(this);a.prev().show().focus(),a.hide()}),a.on("focusout",function(){var a=$(this);a.val()||(a.next().show(),a.hide())}))});